<ng-container *ngIf="ready; else loading">
  <app-header
    [title]="'Role Select'"
    [subtitle]="'To begin, please select a role.'"
  ></app-header>
  <app-body>
    <div class="row">
      <div class="col-md-6 my-3">
        <h3 class="text-center">
          Roles
        </h3>
        <div class="mb-3">
          <app-card
            [title]="'Judge'"
            [autoHeight]="false"
            [icon]="'fa-balance-scale'"
          >
            <p>
              The judge runs the case.
              <span *ngIf="showWitness"
                >They decide when to call witnesses.</span
              >
              Once all pieces of evidence
              <span *ngIf="showWitness"> and witnesses</span> are revealed, the
              judge rules a verdict. Just one player should have this role.
            </p>
            <button class="btn btn-primary" (click)="beJudge()">
              Select
            </button>
          </app-card>
        </div>
        <div class="my-3">
          <app-card
            [title]="'Plaintiff'"
            [autoHeight]="false"
            [icon]="'fa-user-circle-o'"
          >
            <p>
              The plaintiff reveals evidence
              <span *ngIf="showWitness">and questions witnesses</span> to accuse
              the defendant of something. Just one player should have this role.
            </p>
            <button class="btn btn-primary" (click)="bePlaintiff()">
              Select
            </button>
          </app-card>
        </div>
        <div class="my-3">
          <app-card
            [title]="'Defendant'"
            [autoHeight]="false"
            [icon]="'fa-user-circle'"
          >
            <p>
              The defendant reveals evidence
              <span *ngIf="showWitness">and questions witnesses</span> to deny
              the plaintiff's accusation. Just one player should have this role.
            </p>
            <button class="btn btn-primary" (click)="beDefendant()">
              Select
            </button>
          </app-card>
        </div>
        <div class="my-3" *ngIf="showWitness">
          <app-card
            [title]="'Witness'"
            [autoHeight]="false"
            [icon]="'fa-users'"
          >
            <p>
              The witnesses are called into court by the judge to connect their
              backstory to the case. Multiple players can have this role.
            </p>
            <button class="btn btn-primary" (click)="beWitness()">
              Select
            </button>
          </app-card>
        </div>
        <div class="my-3">
          <app-card [title]="'Jury'" [autoHeight]="false" [icon]="'fa-eye'">
            <p>
              The jury spectates the case. Optionally, the judge may ask them
              for their opinion. Multiple players can have this role.
            </p>
            <button class="btn btn-primary" (click)="beJury()">
              Select
            </button>
          </app-card>
        </div>
      </div>
      <div class="col-md-6 my-3">
        <app-revelations [caseId]="case._id"></app-revelations>
      </div>
    </div>
  </app-body>
</ng-container>

<ng-template #loading>
  <app-body>
    <div class="row">
      <div class="col-md-12">
        <app-loading [message]="'Preparing role selection...'"></app-loading>
      </div>
    </div>
  </app-body>
</ng-template>
