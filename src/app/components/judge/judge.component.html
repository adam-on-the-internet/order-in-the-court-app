<ng-container *ngIf="ready; else loading">
  <div class="header">
    <h1>{{ case.name }}: Judge</h1>
  </div>
  <div class="content">
    <p>
      You are the judge. You get to decide who wins the case and when to call
      witnesses.
    </p>
    <hr />
    <h2>Judge Controls</h2>
    <p>
      <strong>PLAINTIFF SCORE</strong>
    </p>
    <p>
      <button (click)="updatePlaintiffScore(-1)">-</button>
      {{ case.plaintiffScore }}
      <button (click)="updatePlaintiffScore(1)">+</button>
    </p>
    <p>
      <strong>DEFENDANT SCORE</strong>
    </p>
    <p>
      <button (click)="updateDefendantScore(-1)">-</button>
      {{ case.defendantScore }}
      <button (click)="updateDefendantScore(1)">+</button>
    </p>
    <p>
      <strong>NOTES</strong>
    </p>
    <textarea rows="10" cols="50" (change)="updateNotes($event)">{{
      case.notes
    }}</textarea
    ><br /><br />
    <p>
      <span *ngIf="saveInProgress">
        Saving...
      </span>
      <button (click)="save()" *ngIf="!saveInProgress">
        Save case notes and score
      </button>
    </p>
    <hr />
    <app-issue-block [issue]="case.issue"></app-issue-block>
    <hr />
    <h2>Witnesses</h2>
    <ol>
      <li *ngFor="let witness of case.witnesses">
        {{ witness.name }}
      </li>
    </ol>
    <hr />
    <h2>Plaintiff Evidence</h2>
    <ol>
      <li *ngFor="let evidence of case.plaintiffEvidence">
        {{ evidence.name }}
      </li>
    </ol>
    <hr />
    <h2>Defendant Evidence</h2>
    <ol>
      <li *ngFor="let evidence of case.defendantEvidence">
        {{ evidence.name }}
      </li>
    </ol>
  </div>
</ng-container>

<ng-template #loading>
  <p>Loading...</p>
</ng-template>
