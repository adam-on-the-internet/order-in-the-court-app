<ng-container *ngIf="ready; else loading">
  <h3 class="text-center">Case Details</h3>
  <div class="mb-3">
    <app-card [title]="'Case Name: ' + case.name" [icon]="'fa-tag'">
      <p>Case opened on {{ case.openedDate | date }}.</p>
      <p *ngIf="case.closedDate">
        Case closed on {{ case.closedDate | date }}.
      </p>
    </app-card>
  </div>
  <div class="mb-3" *ngIf="case.closed">
    <app-card [title]="'Verdict'" [icon]="'fa-gavel'">
      <p *ngIf="case.closed && case.isDefendantGuilty">
        The defendant was found GUILTY.
      </p>
      <p *ngIf="case.closed && !case.isDefendantGuilty">
        The defendant was found NOT GUILTY.
      </p>
    </app-card>
  </div>
  <div class="mb-3">
    <app-card [title]="'Issue: ' + case.issue.name" [icon]="'fa-book'">
      <p class="card-text">
        {{ case.issue.description }}
      </p>
    </app-card>
  </div>
  <div
    class="mb-3"
    *ngIf="case.revealedWitnesses.length + case.unrevealedWitnesses.length > 0"
  >
    <app-card [title]="'Witnesses'" [icon]="'fa-users'">
      <h6 class="card-subtitle mb-2 text-muted">
        {{ case.revealedWitnesses.length }} of
        {{ case.revealedWitnesses.length + case.unrevealedWitnesses.length }}
        revealed
      </h6>
      <div>
        <p *ngIf="case.revealedWitnesses.length === 0">
          No witnesses revealed yet.
        </p>
        <ol>
          <li *ngFor="let witness of case.revealedWitnesses">
            {{ witness.name }}
          </li>
        </ol>
      </div>
    </app-card>
  </div>
  <div class="mb-3">
    <app-card [title]="'Plaintiff Evidence'" [icon]="'fa-search'">
      <h6 class="card-subtitle mb-2 text-muted">
        {{ case.revealedPlaintiffEvidence.length }} of
        {{
          case.revealedPlaintiffEvidence.length +
            case.unrevealedPlaintiffEvidence.length
        }}
        revealed
      </h6>
      <div class="card-text">
        <p *ngIf="case.revealedPlaintiffEvidence.length === 0">
          No plaintiff evidence has been revealed yet.
        </p>
        <ol>
          <li *ngFor="let evidence of case.revealedPlaintiffEvidence">
            {{ evidence.name }}
          </li>
        </ol>
      </div>
    </app-card>
  </div>
  <div class="mb-3">
    <app-card [title]="'Defendant Evidence'" [icon]="'fa-search'">
      <h6 class="card-subtitle mb-2 text-muted">
        {{ case.revealedDefendantEvidence.length }} of
        {{
          case.revealedDefendantEvidence.length +
            case.unrevealedDefendantEvidence.length
        }}
        revealed
      </h6>
      <div class="card-text">
        <p *ngIf="case.revealedDefendantEvidence.length === 0">
          No defendant evidence has been revealed yet.
        </p>
        <ol>
          <li *ngFor="let evidence of case.revealedDefendantEvidence">
            {{ evidence.name }}
          </li>
        </ol>
      </div>
    </app-card>
  </div>
</ng-container>

<ng-template #loading>
  <app-loading></app-loading>
</ng-template>
