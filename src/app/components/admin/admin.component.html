<div class="header">
  <h1>
    Admin Panel
  </h1>
  <p>Here you can manage App Data.</p>
  <hr />
</div>
<div class="content">
  <h2>Controls</h2>
  <button (click)="manageEvidence()">Manage evidence</button>
  <button (click)="manageWitnesses()">Manage witnesses</button>
  <button (click)="manageIssues()">Manage issues</button>
  <button (click)="manageCases()">Manage cases</button>
  <button (click)="manageUsers()">Manage users</button>
  <hr />
  <h2>Users</h2>
  <table *ngIf="ready; else loading">
    <thead>
      <tr>
        <th>Email</th>
        <th>Admin</th>
        <th>Toggle Admin</th>
        <th>Special Access</th>
        <th>Edit Access</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.email }}</td>
        <td>{{ user.admin }}</td>
        <td>
          <button (click)="toggleAdmin(user)">
            <span *ngIf="user.admin">
              Remove admin rights
            </span>
            <span *ngIf="!user.admin">
              Add admin rights
            </span>
          </button>
        </td>
        <td>{{ user.specialAccess }}</td>
        <td>
          <button (click)="setSpecialAccess(user)">Edit access</button>
        </td>
        <td>
          <button (click)="deleteUser(user)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #loading>
  <p>Loading...</p>
</ng-template>
